<!-- Input field to capture playlist url / id
     - ReactiveFormsModule
     - Define playlistKey input
-->
<div [ngClass]="{
  'input-component': true
}">
  <p [ngClass]="{
    'input-description': true,
    'reveal': reveal
  }">
    Enter a playlist url or ID. You'll be able to view and customize track options after successfully requesting/receiving track info.
  </p>
  <!-- ngSubmit replaces `action` attr
       - [] declares reference to component prop/instance
       - () binds handler to action
  -->
  <form [formGroup]="captureIdForm" (ngSubmit)="onSubmit($event)" action="">
    <div class="form-group">

      <!-- add some kind of status message/indication -->
      <div [ngClass]="{
        'form-status': true,
        'hidden': !statusMessage,
        'error': !status
      }">
        <p>
          <span [ngClass]="{
            'alert-icon': true,
            'icon-attention': !status,
            'icon-ok': status
          }"></span>
          {{ statusMessage }}
        </p>
      </div>

      <input
        [ngClass]="{
          'reveal': reveal
        }"
        formControlName="playlistId"
        name="playlistId"
        type="text"
        placeholder="Playlist ID or URL"
      />

      <button
        [ngClass]="{
          'pill': true,
          'input-cta': true,
          'reveal': reveal
        }"
        [attr.disabled]="captureIdForm.controls['playlistId'].valid ? null : true"
        name="playlistButton"
        type="submit"
        value="Get playlist"
      >Get playlist</button>

    </div>
  </form>
</div>
